---
title: "CSAPP(7) - Linking"
excerpt: "Computer Systems : A Programmer’s Perspective - 7장"

categories:
  - cs
tags:
  - csapp
last_modified_at: 2023-12-03T08:00:00-08:00
---

링킹이란?
- 여러 코드와 데이터 조각을 하나의 파일로 조합하는 것
- 컴파일 타임, 로드 타임, 런타임에 수행 가능.

링커는 별도 컴파일을 가능하게 한다. 큰 모놀로식 소스 파일을 구성할 필요가 없다. 

# 1. Compiler Drivers
컴파일러 드라이버는 언어 전처리기, 컴파일러, 어셈블러, 링커를 필요에 따라 호출한다.

GCC 드라이버를 사용하면 
1. C 전처리기(cpp)를 실행하여 소스 파일을 ASCII 중간 파일로 변환
2. C 컴파일러(cc1)를 실행하여 ASCII 어셈블리언어 파일로 변환
3. 어셈블러(as)를 실행하여 이진 relocatable 목적 파일로 변환
4. 링커(ld)를 실행하여 실행가능한 목적 파일 바이너리를 생성

목적 파일을 실행하면 os의 loader가 코드와 데이터를 메모리에 올리고 제어를 프로그램의 시작으로 전달한다.

# 2. Static Linking
ld와 같은 static linker는 relocatable object file과 인자를 입력으로 받아서 완전히 링크된 executable object file을 출력한다.

목적 파일은 바이트 블록의 집합이다. 이 블록은 프로그램 코드, 프로그램 데이터, 링커와 로더를 위한 자료구조를 포함한다. 링커는 이 블록을 연결하고, 연결된 블락의 런타임 위치를 결정하고, 코드와 데이터 블록의 다양한 위치를 수정한다. 대부분의 일은 컴파일러와 어셈블러가 하는 것이고 링커는 타겟 머신에 대한 최소한의 이해만을 필요로 한다.

# 3. Object Files

# 출처
- https://csapp.cs.cmu.edu/   
- 책 "Computer Systems : A Programmer’s Perspective"