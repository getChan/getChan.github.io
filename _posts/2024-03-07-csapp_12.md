---
title: "CSAPP(12) - Concurrent Programming"
excerpt: "Computer Systems : A Programmer’s Perspective - 12장"

categories:
  - cs
tags:
  - csapp
last_modified_at: 2024-03-07T08:00:00-08:00
---

동시성은 여러 레벨의 컴퓨터 시스템에서 나타난다. 
- 하드웨어 예외 핸들러, 프로세스, 리눅스 시그널 핸들러 등
- 지금까지는 os 커널이 주로 처리했지만, 응용 프로그램에서도 중요하다.
  - 느린 입출력 장치에 접근할 때 다른 프로세스가 CPU를 사용할 수 있다.
  - 유저와 상호작용 시 여러 태스크를 동시에 처리한다.
    - 유저가 액션할 때마다 별도의 동시 논리 흐름이 생성된다.
  - 작업을 연기하여 지연시간을 감소시킬 수 있다.
    - 동적 할당자는 각각의 `free`명령을 연기하여 한번에 처리한다.
  - 여러 네트워크 클라이언트를 제공한다. 
    - 동시성 서버는 각 클라이언트별로 별도의 논리 흐름을 생성한다.
  - 멀티 코어 머신에서 병렬 연산

현대 os는 동시성 프로그램을 만들기 위한 3가지의 기본 접근방식을 제공한다.
- Processes
  - 각 논리 제어 흐름은 커널에 의해 계획되고 유지된다. 
  - 프로세스는 별도의 가상 주소 공간을 갖기에, 논리 흐름간 통신하려면 inter-process communication(IPC) 를 사용해야 한다.
- I/O muiltiplexing
  - 애플리케이션이 단일 프로세스에서 명시적으로 자신의 논리 흐름을 계획한다.
  - 상태 머신으로 모델링되었다.
    - 파일 서술자에 도착하는 데이터의 결과에 따라 상태가 전환한다.
  - 프로그램이 단일 프로세스이므로 모든 흐름은 같은 주소 공간을 공유한다.
- Threads
  - 단일 프로세스에서 실행되고 커널에 의해 계획되는 논리 흐름.
  - 프로세스처럼 커널에 의해 계획됨 + 입출력 멀티플렉싱처럼 동일한 가상 주소 공간을 사용함.

# 1. Concurrent Programming with Processes